<!doctype html>
<html lang="en">

<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Fairscape Schema Metadata</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">
    <script src="https://cdn.jsdelivr.net/npm/mermaid@10/dist/mermaid.esm.min.mjs"></script>
    <style>
        body {
            background-color: #f8f9fa;
            /* Light grey background */
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }

        h3 {
            color: #007bff;
        }

        .container {
            background-color: #ffffff;
            padding: 20px;
            border-radius: 10px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
            margin-top: 20px;
        }

        .accordion-button {
            background-color: #007bff;
            color: white;
        }

        .accordion-button:not(.collapsed) {
            background-color: #0056b3;
            color: white;
        }

        .table {
            margin-top: 20px;
        }

        .table thead th {
            background-color: #007bff;
            color: white;
        }

        #mermaid-container {
            display: block;
        }

        #json-ld-container {
            display: none;
        }

        .json-wrapper {
            position: relative;
            padding: 20px;
            margin-top: 20px;
            /* Adds space below the banner */
            background-color: #f9f9f9;
            /* Slightly different background color */
            border: 1px solid #ddd;
            /* Adds a border */
            border-radius: 5px;
            /* Adds rounded corners */
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
            /* Adds shading */
        }

        .copy-btn {
            position: absolute;
            top: 10px;
            right: 10px;
            background: none;
            border: none;
            color: #007bff;
            cursor: pointer;
        }

        .copy-btn:hover {
            color: #0056b3;
        }

        .serialization-btn-group {
            display: flex;
            justify-content: center;
            gap: 10px;
            /* Adjust the spacing between buttons */
            margin-top: 10px;
            /* Space below the top-level buttons */
        }

        .serialization-btn-group .btn-check {
            width: 100px;
            /* Adjust the width of the buttons */
        }
    </style>
</head>

<body>
    <div id="main-content" class="container">
        <div class="row">
            <div class="col-lg-auto">
                <h3>Schema Metadata: ark:59852/schema-apms-music-embedding-izNjXSs</h3>
            </div>
        </div>

        <div class="row">
            <!-- Button Group for Selecting Content -->
            <div class="btn-group" role="group" aria-label="Basic radio toggle button group">
                <input type="radio" onclick="showMetadata();" class="btn-check" name="btnradio" id="btn-metadata"
                    autocomplete="off" checked>
                <label class="btn btn-outline-primary" for="btn-metadata">Metadata</label>

                <input type="radio" onclick="showJSON();" class="btn-check" name="btnradio" id="btn-json"
                    autocomplete="off">
                <label class="btn btn-outline-primary" for="btn-json">Serialization</label>

                <input type="radio" onclick="showMermaid()" class="btn-check" name="btnradio" id="btn-mermaid"
                    autocomplete="off">
                <label class="btn btn-outline-primary" for="btn-mermaid">Evidence Graph</label>
            </div>
        </div>

        <!-- Table of all properties -->
        <div class="row" id="metadata-container">
            <div class="container">
                <table class="table table-hover table-striped">
                    <thead>
                        <tr>
                            <th scope="col">Property</th>
                            <th scope="col">Value</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>Name</td>
                            <td>APMS Embedding Schema</td>
                        </tr>
                        <tr>
                            <td>Persistant Identifier</td>
                            <td>
                                <a href="https://fairscape.pods.uvarc.io/ark:59852/schema-apms-music-embedding-izNjXSs">ark:59852/schema-apms-music-embedding-izNjXSs</a>
                            </td>
                        </tr>
                        <tr>
                            <td>Description</td>
                            <td>Tabular format for APMS music embeddings from PPI networks from the music pipeline from the B2AI Cellmaps for AI project</td>
                        </tr>
                        <tr>
                            <td>Properties</td>
                            <td>
                                
                                <div class="accordion" id="accordionExperiment-Identifier">
                                    <div class="accordion-item">
                                        <h2 class="accordion-header">
                                            <button class="accordion-button" type="button" data-bs-toggle="collapse"
                                                data-bs-target="#collapseExperiment-Identifier"
                                                aria-expanded="true"
                                                aria-controls="collapseExperiment-Identifier">
                                                Experiment Identifier
                                            </button>
                                        </h2>
                                        <div id="collapseExperiment-Identifier"
                                            class="accordion-collapse collapse"
                                            data-bs-parent="#accordionExperiment-Identifier">
                                            <div class="accordion-body">
                                                <strong>Description:</strong> Identifier for the APMS experiment responsible for generating the raw PPI used to create this embedding vector<br>
                                                <strong>Type:</strong> string<br>
                                                <strong>Index:</strong> 0
                                            </div>
                                        </div>
                                    </div>
                                    
                                <div class="accordion" id="accordionGene-Symbol">
                                    <div class="accordion-item">
                                        <h2 class="accordion-header">
                                            <button class="accordion-button" type="button" data-bs-toggle="collapse"
                                                data-bs-target="#collapseGene-Symbol"
                                                aria-expanded="true"
                                                aria-controls="collapseGene-Symbol">
                                                Gene Symbol
                                            </button>
                                        </h2>
                                        <div id="collapseGene-Symbol"
                                            class="accordion-collapse collapse"
                                            data-bs-parent="#accordionGene-Symbol">
                                            <div class="accordion-body">
                                                <strong>Description:</strong> Gene Symbol for the APMS bait protien<br>
                                                <strong>Type:</strong> string<br>
                                                <strong>Index:</strong> 1
                                            </div>
                                        </div>
                                    </div>
                                    
                                <div class="accordion" id="accordionMUSIC-APMS-Embedding">
                                    <div class="accordion-item">
                                        <h2 class="accordion-header">
                                            <button class="accordion-button" type="button" data-bs-toggle="collapse"
                                                data-bs-target="#collapseMUSIC-APMS-Embedding"
                                                aria-expanded="true"
                                                aria-controls="collapseMUSIC-APMS-Embedding">
                                                MUSIC APMS Embedding
                                            </button>
                                        </h2>
                                        <div id="collapseMUSIC-APMS-Embedding"
                                            class="accordion-collapse collapse"
                                            data-bs-parent="#accordionMUSIC-APMS-Embedding">
                                            <div class="accordion-body">
                                                <strong>Description:</strong> Embedding Vector values for genes determined by running node2vec on APMS PPI networks. Vector has 1024 values for each bait protien<br>
                                                <strong>Type:</strong> array<br>
                                                <strong>Index:</strong> 2::
                                            </div>
                                        </div>
                                    </div>
                                    
                                </div>
                            </td>
                        </tr>
                        <tr>
                            <td>Required</td>
                            <td>
                                <div class="accordion" id="accordionrequired">
                                    <div class="accordion-item">
                                        <h2 class="accordion-header">
                                            <button class="accordion-button" type="button" data-bs-toggle="collapse"
                                                data-bs-target="#collapserequired" aria-expanded="false"
                                                aria-controls="collapserequired">
                                                required
                                            </button>
                                        </h2>
                                        <div id="collapserequired" class="accordion-collapse collapse"
                                            data-bs-parent="#accordionrequired">
                                            <div class="accordion-body">
                                                <ul>
                                                    
                                                    <li>Experiment Identifier</li>
                                                    
                                                    <li>Gene Symbol</li>
                                                    
                                                    <li>MUSIC APMS Embedding</li>
                                                    
                                                </ul>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </td>
                        </tr>
                        <tr>
                            <td>Separator</td>
                            <td>,</td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>

        <div class="row" id="json-ld-container">
            <div class="serialization-btn-group" style="margin-top: 20px; text-align: center;">
                <div class="btn-group" role="group" aria-label="Serialization options" style="width: 50%;">
                    <input type="radio" onclick="showSerialization('json-text')" class="btn-check" name="serialization"
                        id="serialization-json" autocomplete="off" checked>
                    <label class="btn btn-sm btn-outline-info" for="serialization-json">JSON-LD</label>

                    <input type="radio" onclick="showSerialization('rdf-xml-text')" class="btn-check"
                        name="serialization" id="serialization-rdf" autocomplete="off">
                    <label class="btn btn-sm btn-outline-info" for="serialization-rdf">RDF/XML</label>

                    <input type="radio" onclick="showSerialization('turtle-text')" class="btn-check"
                        name="serialization" id="serialization-turtle" autocomplete="off">
                    <label class="btn btn-sm btn-outline-info" for="serialization-turtle">Turtle</label>
                </div>
            </div>
            <div class="json-wrapper">
                <pre id="json-text">{
  "@id": "ark:59852/schema-apms-music-embedding-izNjXSs",
  "@type": "evi:Schema",
  "name": "APMS Embedding Schema",
  "@context": {
    "@vocab": "https://schema.org/",
    "EVI": "https://w3,org/EVI#"
  },
  "url": null,
  "properties": {
    "Experiment Identifier": {
      "description": "Identifier for the APMS experiment responsible for generating the raw PPI used to create this embedding vector",
      "index": 0,
      "type": "string",
      "value-url": null,
      "pattern": "^APMS_[0-9]*$",
      "items": null,
      "min-items": null,
      "max-items": null,
      "unique-items": null
    },
    "Gene Symbol": {
      "description": "Gene Symbol for the APMS bait protien",
      "index": 1,
      "type": "string",
      "value-url": null,
      "pattern": "^[A-Za-z0-9\\-]*$",
      "items": null,
      "min-items": null,
      "max-items": null,
      "unique-items": null,
      "valueURL": "http://edamontology.org/data_1026"
    },
    "MUSIC APMS Embedding": {
      "description": "Embedding Vector values for genes determined by running node2vec on APMS PPI networks. Vector has 1024 values for each bait protien",
      "index": "2::",
      "type": "array",
      "value-url": null,
      "pattern": null,
      "items": {
        "type": "number"
      },
      "min-items": null,
      "max-items": null,
      "unique-items": null,
      "maxItems": 1024,
      "minItems": 1024,
      "uniqueItems": false
    }
  },
  "type": "object",
  "additionalProperties": true,
  "required": [
    "Experiment Identifier",
    "Gene Symbol",
    "MUSIC APMS Embedding"
  ],
  "separator": ",",
  "header": false,
  "examples": [],
  "description": "Tabular format for APMS music embeddings from PPI networks from the music pipeline from the B2AI Cellmaps for AI project",
  "seperator": ","
}</pre>
                <button id="copy-btn" class="copy-btn" title="Copy JSON-LD">
                    <i class="fas fa-copy"></i> Copy JSON-LD
                </button>
                <pre id="rdf-xml-text" style="display: none;"><?xml version="1.0" encoding="utf-8"?>
<rdf:RDF
   xmlns:ns1="https://w3id.org/EVI#"
   xmlns:ns2="https://w3id.org/EVI#@"
   xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"
>
  <rdf:Description rdf:about="https://w3id.org/EVI#dataset">
    <ns2:id rdf:datatype="http://www.w3.org/2001/XMLSchema#string">ark:59852/schema-apms-music-embedding-izNjXSs</ns2:id>
    <ns2:type rdf:datatype="http://www.w3.org/2001/XMLSchema#string">evi:Schema</ns2:type>
    <ns1:name rdf:datatype="http://www.w3.org/2001/XMLSchema#string">APMS Embedding Schema</ns1:name>
    <ns2:context rdf:datatype="http://www.w3.org/2001/XMLSchema#string">{'@vocab': 'https://schema.org/', 'EVI': 'https://w3,org/EVI#'}</ns2:context>
    <ns1:url rdf:datatype="http://www.w3.org/2001/XMLSchema#string">None</ns1:url>
    <ns1:properties rdf:datatype="http://www.w3.org/2001/XMLSchema#string">{'Experiment Identifier': {'description': 'Identifier for the APMS experiment responsible for generating the raw PPI used to create this embedding vector', 'index': 0, 'type': 'string', 'value-url': None, 'pattern': '^APMS_[0-9]*$', 'items': None, 'min-items': None, 'max-items': None, 'unique-items': None}, 'Gene Symbol': {'description': 'Gene Symbol for the APMS bait protien', 'index': 1, 'type': 'string', 'value-url': None, 'pattern': '^[A-Za-z0-9\\-]*$', 'items': None, 'min-items': None, 'max-items': None, 'unique-items': None, 'valueURL': 'http://edamontology.org/data_1026'}, 'MUSIC APMS Embedding': {'description': 'Embedding Vector values for genes determined by running node2vec on APMS PPI networks. Vector has 1024 values for each bait protien', 'index': '2::', 'type': 'array', 'value-url': None, 'pattern': None, 'items': {'type': 'number'}, 'min-items': None, 'max-items': None, 'unique-items': None, 'maxItems': 1024, 'minItems': 1024, 'uniqueItems': False}}</ns1:properties>
    <ns1:type rdf:datatype="http://www.w3.org/2001/XMLSchema#string">object</ns1:type>
    <ns1:additionalProperties rdf:datatype="http://www.w3.org/2001/XMLSchema#integer">true</ns1:additionalProperties>
    <ns1:required rdf:datatype="http://www.w3.org/2001/XMLSchema#string">['Experiment Identifier', 'Gene Symbol', 'MUSIC APMS Embedding']</ns1:required>
    <ns1:separator rdf:datatype="http://www.w3.org/2001/XMLSchema#string">,</ns1:separator>
    <ns1:header rdf:datatype="http://www.w3.org/2001/XMLSchema#integer">false</ns1:header>
    <ns1:examples rdf:datatype="http://www.w3.org/2001/XMLSchema#string">[]</ns1:examples>
    <ns1:description rdf:datatype="http://www.w3.org/2001/XMLSchema#string">Tabular format for APMS music embeddings from PPI networks from the music pipeline from the B2AI Cellmaps for AI project</ns1:description>
    <ns1:seperator rdf:datatype="http://www.w3.org/2001/XMLSchema#string">,</ns1:seperator>
  </rdf:Description>
</rdf:RDF>
</pre>
                <pre id="turtle-text" style="display: none;">@prefix ns1: <https://w3id.org/EVI#> .
@prefix ns2: <https://w3id.org/EVI#@> .
@prefix xsd: <http://www.w3.org/2001/XMLSchema#> .

ns1:dataset ns2:context "{'@vocab': 'https://schema.org/', 'EVI': 'https://w3,org/EVI#'}"^^xsd:string ;
    ns2:id "ark:59852/schema-apms-music-embedding-izNjXSs"^^xsd:string ;
    ns2:type "evi:Schema"^^xsd:string ;
    ns1:additionalProperties true ;
    ns1:description "Tabular format for APMS music embeddings from PPI networks from the music pipeline from the B2AI Cellmaps for AI project"^^xsd:string ;
    ns1:examples "[]"^^xsd:string ;
    ns1:header false ;
    ns1:name "APMS Embedding Schema"^^xsd:string ;
    ns1:properties "{'Experiment Identifier': {'description': 'Identifier for the APMS experiment responsible for generating the raw PPI used to create this embedding vector', 'index': 0, 'type': 'string', 'value-url': None, 'pattern': '^APMS_[0-9]*$', 'items': None, 'min-items': None, 'max-items': None, 'unique-items': None}, 'Gene Symbol': {'description': 'Gene Symbol for the APMS bait protien', 'index': 1, 'type': 'string', 'value-url': None, 'pattern': '^[A-Za-z0-9\\\\-]*$', 'items': None, 'min-items': None, 'max-items': None, 'unique-items': None, 'valueURL': 'http://edamontology.org/data_1026'}, 'MUSIC APMS Embedding': {'description': 'Embedding Vector values for genes determined by running node2vec on APMS PPI networks. Vector has 1024 values for each bait protien', 'index': '2::', 'type': 'array', 'value-url': None, 'pattern': None, 'items': {'type': 'number'}, 'min-items': None, 'max-items': None, 'unique-items': None, 'maxItems': 1024, 'minItems': 1024, 'uniqueItems': False}}"^^xsd:string ;
    ns1:required "['Experiment Identifier', 'Gene Symbol', 'MUSIC APMS Embedding']"^^xsd:string ;
    ns1:separator ","^^xsd:string ;
    ns1:seperator ","^^xsd:string ;
    ns1:type "object"^^xsd:string ;
    ns1:url "None"^^xsd:string .

</pre>
            </div>

        </div>


        <!-- Mermaid graph -->
        <div class="row" id="mermaid-container">
            <!--
            %%{
              init: {
                'theme': 'base',
                'themeVariables': {
                  'fontFamily': 'verdana',
                  'fontSize': '20px',
                  'primaryColor': '#4dbdc9'
                }
              }
            }%%
            -->
            <pre class="mermaid" id="mermaid-text">
            %%{
              init: {
                'theme': 'neutral',
                'themeVariables': {
                  'fontFamily': 'verdana',
                  'fontSize': '20px',
                  'primaryColor': '#4dbdc9'
                }
              }
            }%%
            flowchart LR
            subgraph ark:59852/3.cm4ai_chromatin_mda-mb-468_untreated_coembedfold1_initialrun0.1alpha
              id0([coembedding_emd.tsv
                    coembedding output file])
              id1[cellmaps_coembedding]
              id2[\Merged Embedding/]
            end
    
            subgraph ark:59852/1.cm4ai_chromatin_mda-mb-468_untreated_imageloader_initialrun0.1alpha
              id3([Simulated Samples file])
              id4([Simulated unique file])
              id5([
                    cellmaps_imagedownloader 
                    output file])
              id6([cellmaps_imagedownloader
                    output file])
              id7([B2AI_1_untreated_G1_R2_red.jpg
                    red channel image])
              id8[cellmaps_imagedownloader]
              id9[\IF Image Loader/]
              id10([etc.])
            end
    
            subgraph ark:59852/2.cm4ai_chromatin_mda-mb-468_untreated_imageembedfold1_initialrun0.1alpha
              id11([cellmaps_image_embedding
                output file])
              id12([Densenet model file])
              id13[cellmaps_image_embedding]
              id14[\IF Image Embedding/]
            end
            idNone([APMS Embedding])
            id1 -->|usedSoftware| id2
            id2 -->|usedDataset| id11
            id2 -->|usedDataset| id12
            id2 -->|usedDataset| idNone
            id0 -->|generatedBy| id2
            id8 -->|usedSoftware| id9
            id9 -->|usedDataset| id4
            id9 -->|usedDataset| id3
            id10 -->|generatedBy| id9
            id5 -->|generatedBy| id9
            id6 -->|generatedBy| id9
            id7 -->|generatedBy| id9
            id13 -->|usedSoftware| id14
            id14 -->|usedDataset| id10
            id14 -->|usedDataset| id5
            id14 -->|usedDataset| id6
            id14 -->|usedDataset| id7
            id11 -->|generatedBy| id14
            id12 -->|generatedBy| id14
            </pre>

            <script type="module">
                // Example of using the render function
                import mermaid from 'https://cdn.jsdelivr.net/npm/mermaid@10/dist/mermaid.esm.min.mjs';
                mermaid.initialize({
                    startOnLoad: true,

                });
            </script>
        </div>
    </div>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
<script>
    function showMetadata() {
        document.getElementById("metadata-container").style.display = "block";
        document.getElementById("json-ld-container").style.display = "none";
        document.getElementById("mermaid-container").style.display = "none";
    }

    function showJSON() {
        document.getElementById("metadata-container").style.display = "none";
        document.getElementById("json-ld-container").style.display = "block";
        document.getElementById("mermaid-container").style.display = "none";
    }

    function showMermaid() {
        document.getElementById("metadata-container").style.display = "none";
        document.getElementById("json-ld-container").style.display = "none";
        document.getElementById("mermaid-container").style.display = "block";
    }

    function showSerialization(elementId) {
        var formats = ['json-text', 'rdf-xml-text', 'turtle-text'];
        var copyBtn = document.getElementById('copy-btn');
        formats.forEach(function (format) {
            document.getElementById(format).style.display = 'none';
        });
        document.getElementById(elementId).style.display = 'block';

        // Update the copy button based on the selected serialization
        if (elementId === 'json-text') {
            copyBtn.onclick = function () { copyContent('json-text'); };
            copyBtn.title = 'Copy JSON-LD';
            copyBtn.innerHTML = '<i class="fas fa-copy"></i> Copy JSON-LD';
        } else if (elementId === 'rdf-xml-text') {
            copyBtn.onclick = function () { copyContent('rdf-xml-text'); };
            copyBtn.title = 'Copy RDF/XML';
            copyBtn.innerHTML = '<i class="fas fa-copy"></i> Copy RDF/XML';
        } else if (elementId === 'turtle-text') {
            copyBtn.onclick = function () { copyContent('turtle-text'); };
            copyBtn.title = 'Copy Turtle';
            copyBtn.innerHTML = '<i class="fas fa-copy"></i> Copy Turtle';
        }
    }

    // Call showSerialization with the default format on page load
    showSerialization('json-text');


    function copyContent(elementId) {
        var content = document.getElementById(elementId);
        navigator.clipboard.writeText(content.textContent).then(function () {
            alert("Content copied to clipboard.");
        }, function () {
            alert("Failed to copy content to clipboard.");
        });
    }



    mermaid.initialize({ startOnLoad: true });

    function copyJSON() {
        var jsonContent = document.getElementById("json-text");
        navigator.clipboard.writeText(jsonContent.innerText).then(function () {
            alert("JSON copied to clipboard!");
        }, function (err) {
            console.error("Could not copy text: ", err);
        });
    }
</script>
</body>

</html>